;/*FB_PKG_DELIM*/

__d("PolarisPostFastShareSheet.react",["PolarisPostShareUtils","PolarisPostTypeUtils","PolarisShareHelpers","PolarisShareSheet.react","nullthrows","polarisLogAction","promiseDone","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b,e=d("react-compiler-runtime").c(29),f=a.onClose;a=a.post;var g=c("usePolarisAnalyticsContext")(),h;if(e[0]!==a){var k;h=d("PolarisPostTypeUtils").getPostType(a);k=((k=a.owner)==null?void 0:k.username)||"";k=d("PolarisShareHelpers").getShareDescription(k,h);e[0]=a;e[1]=h;e[2]=k}else h=e[1],k=e[2];var l=k;e[3]!==a?(k=d("PolarisPostShareUtils").getShareURL(a),e[3]=a,e[4]=k):k=e[4];var m=k,n;e[5]!==g||e[6]!==h?(k=function(){c("polarisLogAction")("shareClick",{source:g,type:h})},n=[g,h],e[5]=g,e[6]=h,e[7]=k,e[8]=n):(k=e[7],n=e[8]);j(k,n);e[9]!==f?(k=function(){f()},e[9]=f,e[10]=k):k=e[10];n=k;e[11]!==g||e[12]!==l||e[13]!==f||e[14]!==h||e[15]!==m?(k=function(){c("polarisLogAction")("nativeShareClick",{source:g,type:h}),f(),c("promiseDone")(d("PolarisShareHelpers").shareWithNative(l,m,"ig_web_button_native_share"))},e[11]=g,e[12]=l,e[13]=f,e[14]=h,e[15]=m,e[16]=k):k=e[16];k=k;if(a.owner==null)return null;var o;e[17]!==a?(o=d("PolarisPostShareUtils").getIsShareable(a,c("nullthrows")(a.owner)),e[17]=a,e[18]=o):o=e[18];o=o;b=(b=a.owner)==null?void 0:b.id;var p;e[19]!==g||e[20]!==l||e[21]!==n||e[22]!==k||e[23]!==o||e[24]!==a.id||e[25]!==h||e[26]!==m||e[27]!==b?(p=i.jsx(c("PolarisShareSheet.react"),{analyticsContext:g,description:l,entityID:a.id,entityOwnerID:b,entityType:h,onClose:n,onNativeShare:k,shareEnabled:o,url:m,utmSource:"ig_web_button_share_sheet"}),e[19]=g,e[20]=l,e[21]=n,e[22]=k,e[23]=o,e[24]=a.id,e[25]=h,e[26]=m,e[27]=b,e[28]=p):p=e[28];return p}g["default"]=a}),98);